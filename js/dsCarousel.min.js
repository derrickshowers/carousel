(function(e,t,n,r){function o(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="dsCarousel",s={autoStart:true,slideSpeed:500,slideDelay:3e3};o.prototype={init:function(){self=this;this.setProperties();this.listeners();this.autoSlide(this.options.autoStart);this.progress()},setProperties:function(){this.options.width=e(this.element).width();this.options.panels=e("ul#carousel > li",this.element).length;this.options.panelContainer=e("ul#carousel",this.element);this.options.currentPanel=1;e("ul#carousel",this.element).width(this.options.width*(this.options.panels+1));e("ul#carousel > li",this.element).width(this.options.width)},slide:function(t){var n=e("ul#carousel > li",this.element);t=="next"?self.options.currentPanel++:self.options.currentPanel--;var r=t=="next"&&self.options.currentPanel>self.options.panels||t=="prev"&&self.options.currentPanel<1?true:false;if(r){var i=t=="next"?e(n[0]):e(n.get(self.options.panels-1));t=="next"?i.clone().addClass("temp").appendTo(self.options.panelContainer):i.clone().addClass("temp").prependTo(self.options.panelContainer);if(t=="prev"){self.options.panelContainer.css("left",-self.options.width)}}self.options.panelContainer.stop().animate({left:t=="next"?"-="+self.options.width:"+="+self.options.width},this.options.slideSpeed,function(){if(r){if(t=="next"){self.options.panelContainer.css("left",0);self.options.panelContainer.children(".temp").remove();self.options.currentPanel=1}else{self.options.panelContainer.css("left",-((self.options.panels-1)*self.options.width));self.options.panelContainer.children(".temp").remove();self.options.currentPanel=self.options.panels}}self.progress()})},skipTo:function(e){this.autoSlide(false);var t=-(e*this.options.width);self.options.panelContainer.animate({left:t},this.options.slideSpeed);self.options.currentPanel=e+1;self.progress()},autoSlide:function(e){if(e){self.options.sliding=setInterval(function(){self.slide("next")},this.options.slideDelay)}else{clearInterval(self.options.sliding)}},progress:function(){var t=e("ul#progress li",this.element);var n=this;t.each(function(t){t+1==n.options.currentPanel?e(this).addClass("active"):e(this).removeClass("active")})},listeners:function(){var t=e("#prev",this.element);var n=e("#next",this.element);var r=e("#progress li",this.element);r.each(function(t){e(this).click(function(){self.skipTo(t)})});n.click(function(){self.autoSlide(false);self.slide("next")});t.click(function(){self.autoSlide(false);self.slide("prev")})}};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}})}})(jQuery,window,document)